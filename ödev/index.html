<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>
     <div class="ana">

    <div class="ust">
      <input id="listeAdi" placeholder="Yeni liste adı..." />
      <button class="btn-ana" id="listeEkle">Yeni Liste</button>
    </div>

    <div id="alan"></div>
  <script>
    const alan = document.getElementById("alan");
    const listeAdi = document.getElementById("listeAdi");
    const listeEkle = document.getElementById("listeEkle");

    let say = 1;

    function yaziTemiz(x){
      return x.trim();
    }

    function listeYap(ad){
      const kutu = document.createElement("div");
      kutu.className = "liste";

      const baslik = document.createElement("div");
      baslik.className = "baslik";
      baslik.textContent = ad;

      const satir = document.createElement("div");
      satir.className = "satir";

      const input = document.createElement("input");
      input.placeholder = "Yeni öğe...";
      
      const btn = document.createElement("button");
      btn.className = "btn-ekle";
      btn.textContent = "Öğe Ekle";

      const ogeler = document.createElement("div");
      ogeler.className = "ogeler";

      function ogeEkle(){
        const metin = yaziTemiz(input.value);
        if(!metin) return;

        const oge = document.createElement("div");
        oge.className = "oge";

        const yazi = document.createElement("div");
        yazi.className = "yazi";
        yazi.textContent = metin;

        const btnlar = document.createElement("div");
        btnlar.className = "btnlar";

        const tamam = document.createElement("button");
        tamam.className = "btn-tamam";
        tamam.textContent = "Tamamla";

        const sil = document.createElement("button");
        sil.className = "btn-sil";
        sil.textContent = "Sil";

        tamam.onclick = () => {
          oge.classList.toggle("bitti");
          tamam.textContent = oge.classList.contains("bitti") ? "Geri Al" : "Tamamla";
        };

        sil.onclick = () => oge.remove();

        btnlar.appendChild(tamam);
        btnlar.appendChild(sil);

        oge.appendChild(yazi);
        oge.appendChild(btnlar);

        ogeler.appendChild(oge);
        input.value = "";
        input.focus();
      }

      btn.onclick = ogeEkle;
      input.addEventListener("keydown", (e) => {
        if (e.key === "Enter") ogeEkle();
      });

      satir.appendChild(input);
      satir.appendChild(btn);

      kutu.appendChild(baslik);
      kutu.appendChild(satir);
      kutu.appendChild(ogeler);

      return kutu;
    }

    function yeniListe(){
      let ad = yaziTemiz(listeAdi.value);
      if(!ad) ad = "Liste " + say;
      say++;

      alan.appendChild(listeYap(ad));
      listeAdi.value = "";
      listeAdi.focus();
    }

    listeEkle.onclick = yeniListe;
    listeAdi.addEventListener("keydown", (e) => {
      if (e.key === "Enter") yeniListe();
    });
  </script>   
    
</body>
</html>